<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="applicable-device" content="pc,mobile">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2">
</head>
<body>
    <div>闭包</div>
    <script>
      /*
        1.闭包如何产生
          当一个嵌套的内部（子）函数引用了嵌套的外部（父）函数的变量时，就产生了闭包
        2.闭包到底是什么
          2.1 闭包时嵌套的内部函数（笼统）
          2.2 包含被引用变量（函数）的对象。
          注意：闭包存在于嵌套的内部函数中
        3.产生闭包的条件
          3.1.函数嵌套
          3.2.内部函数引用了外部函数的数据（变量、函数）
      */

      function fn1() {
          var a=2
          var b='abc'
          function fn2() { // 执行函数定义就会产生闭包（不用调用内部函数）
              console.log(a)
          }
          fn2()
      }
      fn1()
    </script>

    <script>
        /*
            使用：
                1.将函数作为另一个函数的返回值
                2.将函数作为实参传递给另一个函数调用
        */
       function fn1() {
           var a=2
           function fn2() {
               a++
               console.log(a)
           }
           return fn2
       }
       var f=fn1()
       f()
       f()
       //--------闭包创建一次

       fn1() // 闭包第二次创建 - 看外部函数执行了几次

    </script>

</body>
</html>